buildscript {
    ext {
        google_guava_version = '31.1-jre'
        rx_java_version = '1.3.8'
        springboot_version = '2.6.7'

        hydro_common_microservice = '1.3.32'
    }
}

plugins {
    id "org.springframework.boot" version "${springboot_version}"
	id 'io.spring.dependency-management' version '1.0.9.RELEASE'
    id 'application'
    id 'java'
}

repositories {
    mavenCentral()
    maven { url 'https://jitpack.io' }
}

dependencies {
    implementation "org.springframework.boot:spring-boot-starter"
    implementation "org.springframework.boot:spring-boot-starter-websocket"

    implementation "com.github.hydroponics-system:hydro-common-microservice:v${hydro_common_microservice}"

    implementation "com.google.guava:guava:${google_guava_version}"
    implementation "io.reactivex:rxjava:${rx_java_version}"

    testImplementation "org.springframework.boot:spring-boot-starter-test"
}

application {
    mainClass = 'hydro.pi.bridge.PiBridgeApp'
}

tasks.named('test') {
    useJUnitPlatform()
}
